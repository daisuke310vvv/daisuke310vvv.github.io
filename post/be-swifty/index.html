
<!DOCTYPE html>
<html lang="en-us">
<head>

  
  <meta charset="UTF-8">
  <title>
    Objective-CからSwiftに移行して2週間経った感想 | Just in Code.
  </title>


  
  <meta name="viewport" content="width=device-width,user-scalable=no,maximum-scale=1,initial-scale=1">


  
  <link rel="stylesheet" href="/css/sanitize.css">
  <link rel="stylesheet" href="/css/responsive.css">
  <link rel="stylesheet" href="/css/highlight_monokai.css">
  <link rel="stylesheet/less" href="/css/theme.less">
  <link rel="stylesheet" href="/css/custom.css">


  
  <script src="/js/less.js" type="text/javascript"></script>


</head>



<body>
<div class="container">

  
  <header role="banner">
    <div class="row gutters">
      <div id="site-title" class="col span_6">
        <h1><a href="/">Just in Code.</a></h1>
        
      </div>
      <div id="social" class="col span_6">
        <ul>
          
          
          
        </ul>
      </div>
    </div>
  </header>


  
  <main id="single" role="main">
    <div class="article-header">
      <h1>Objective-CからSwiftに移行して2週間経った感想</h1>
      <div class="meta">
        Jul 17, 2015 &nbsp;
        
          #<a href="/tags/swift">Swift</a>&nbsp;
        
          #<a href="/tags/ios">iOS</a>&nbsp;
        
      </div>
    </div>
    <article>
      

<h2 id="swiftに移行した:9c41c890be2d301475e94c72a08a25fa">Swiftに移行した</h2>

<p>ちょうど1年ほど前のWWDCで突如現れたSwift.<br />
NextSTEP時代から使われてきたObjective-Cに置き換わるApple製の新しい言語として、この一年でかなりのiOSエンジニアがObjective-CからSwiftに移行してきたと思います.<br />
私もその波に乗り、Objective-CからSwiftへ&hellip;!!と思っていたのですが、なんだかんだObjective-Cで書き続けるという老害ぶりを発揮.<br />
気が付くと突如現れた日から１年が経ち&hellip;その一年後のWWDCでさらなる衝撃が起こりました.</p>

<p><img src="/images/swift2_opensource.jpg" alt="Swift2" title="Swift2.0" />
</p>

<h3 id="swift2-0-open-source:9c41c890be2d301475e94c72a08a25fa">Swift2.0 - Open Source</h3>

<h3 id="マジか:9c41c890be2d301475e94c72a08a25fa">マジか!!!!!!!!!!!</h3>

<p>Swiftきてるな&hellip;<br />
これからOSSしようと思ってもObjective-Cで書いてもな&hellip;ッて感じだし&hellip;</p>

<p>ということで、タイミングもあってObjective-CからSwiftに移行しました(ようやく).<br />
その時にやったことと感想を少しだけまとめておこうと思います.</p>

<h2 id="1-swiftの本を読む:9c41c890be2d301475e94c72a08a25fa">1. Swiftの本を読む.</h2>

<p>Swiftの発表から１年が経ち、日本語の本も数多く出てきました.
いくつか定番になりつつある本がありますが、私はObjective-Cの時にもお世話になった「詳解Swift」を一通り読みました.<br />
この本は言語仕様について詳しく書いてあるので、１冊持っておくとわからなくなった時に読み返したりできて便利な本でもあると思います.<br />
(UIKitを使ってiOSアプリを開発する、という本ではありません.)<br />
Objective-CとSwiftでの違いを確認したり、新しく加わった機能や、変更された箇所などを一通り見ていきました.</p>

<ul>
<li>Optional型</li>
<li>構造体</li>
<li>列挙型</li>
<li>プロトコル</li>
<li>クロージャ</li>
<li>ジェネリクス</li>
</ul>

<p>あたりが非常に勉強になりました.<br />
一通り読んでみてだいぶObjective-Cとは違うなあと感じたことと、Swiftらしく書こうと思うとだいぶ違ったものになりそうだなあと思いました.<br />
Objective-Cは名前の通り、Cにオブジェクト指向を取り入れた言語なので、C言語のプリミティブな型とその他のクラスでオブジェクト指向でガリガリ書く感じだったのに比べて、
Swiftではそもそもオブジェクト指向っぽく設計されていない感じがしました.
というのも、クラスと同等の機能が構造体や列挙型といった値型のデータ構造にあったり、クロージャやジェネリクスの辺りから関数型っぽい部分があったり&hellip;<br />
またプロトコルもSwift2.0からは実装を持つことができるようになる点も気になりました.</p>

<h2 id="2-いくつかアプリを作る:9c41c890be2d301475e94c72a08a25fa">2. いくつかアプリを作る.</h2>

<p>詳解Swiftを読んだ後、いくつかのアプリ(カメラを使ったものや、RSSリーダのようなもの)を作ってみました.<br />
アプリの全体的な構造やタイミング等は変わらないので、変数(定数)やメソッド(関数)の宣言での書き方の違いなどを実際に書いてみて覚えていきました.
この段階で一応Objective-Cで書いていたようなことをSwiftで書きなおすことができるようになってきました.</p>

<p>実際にコードを書いてみて感じたことを3つ.</p>

<ul>
<li><p>ファイル数が減った<br />
Objective-Cでは一つのクラスを作った場合ヘッダーファイルと実装ファイルの２つのファイルが必要でしたが、Swiftでは一つになりました.
これによってヘッダーと実装ファイルの行き来がなくなって幸せになりました.<br />
またその関係?でProject単位でモジュール化されているようです. あるモジュールがあった時に、その中のファイルは全てそのモジュールに属するようで、ファイルに対するスコープもpublic,  internal, privateとなっていて、<br />
同じモジュール内であれば別ファイルをわざわざimportする必要がなくなりました.</p></li>

<li><p>Optional型が幅を利かせている<br />
変数(定数)の定義時やプロパティにアクセスする時、関数を呼ぶ時などいろんな場面でOptionalを意識する必要があります.<br />
Optional束縛構文やOptionalチェーンなど、事前にnilかどうかの判定ができて非常に便利ですが、慣れていないので戸惑うことが多くあります.</p></li>

<li><p>クラスか構造体かenumか&hellip;<br />
まとまったデータ構造を定義する時、クラスか構造体かenumのどれを使って定義するのか迷います.<br />
大きな違いは、値型か参照型かだと思いますがまだハッキリと使い分けができない状況です. (知見がほしい)</p></li>
</ul>

<h2 id="3-github上のコードを読む-ブログやスライドを見る:9c41c890be2d301475e94c72a08a25fa">3. Github上のコードを読む &amp; ブログやスライドを見る</h2>

<p>githubに上がっているコードやネット上のブログやスライドを読み漁りました. すでに登場から１年が過ぎているので溜まっている先人たちのブログやスライド、コードを読んで勉強しています.<br />
探せばいくらでも出てくるので、一日中読みふけることができます.<br />
議論としては、変数と定数どちらで定義するかといったことから、Objective-CとSwiftではパフォーマンスはどうなんだとか、オブジェクト指向なのかプロトコル指向なのか、いやいや関数型プログラミングだ!みたいなものなどいろいろ見つかりました.<br />
新しい言語でこれからって感じがするのでどんどん知見を貯めてキャッチアップしていきたいところです.</p>

<h2 id="移行できたは良いけども:9c41c890be2d301475e94c72a08a25fa">移行できたは良いけども</h2>

<p>という具合に移行して約2週間ほど経ちましたが、 結論を言うと、早くから移行しておけばよかったな&hellip;と思いました.<br />
Objective-Cを書いていれば、Swiftに書き直す分にはそれほどコストはかかりませんでしたし、コードを書く量も減りました.<br />
ただ、移行することよりもSwiftらしく書こうと思えばまた別の問題になってくることが分かりました.
現状、移行できたは良いけれども、まだまったくSwiftの新しい言語仕様の恩恵を受けることなくコードを書いていて辛い感じなので、ひたすら勉強しようと思います.</p>

<p>今後このブログでは技術関連の話を書いていければなと思います.</p>

    </article>
    


<script type="text/javascript">
     
    var disqus_shortname = '';

     
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

  </main>


  
  <footer role="contentinfo">
    <div style="text-align:center;">
      
      
    </div>
  </footer>


</div>

<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>



</body>
</html>

